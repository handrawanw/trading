(this.webpackJsonpbelajarcss=this.webpackJsonpbelajarcss||[]).push([[0],{101:function(e,a,t){},111:function(e,a,t){e.exports=t(263)},116:function(e,a,t){},148:function(e,a){},263:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(20),c=t.n(r),o=(t(116),t(264)),s=t(265),m=t(266),u=t(6);function i(e){return{type:"TradeJual",market:e.market}}function d(e){return{type:"TradeBeli",market:e.market}}function b(e){return{type:"TradeAll",market:e.market}}var f=t(103),E=t.n(f),v=t(104),h=E()("http://localhost:1999"),g=Object(v.a)(localStorage.getItem("token"))||null;t(77);var p=function(e){e.Data;var a=e.Judul,t=e.TabelTipe,l=Object(u.b)(),r=Object(u.c)((function(e){return e.TradeState[t]})).market;return n.a.useEffect((function(){var e=(g||"").id;h.on("tradeAll",(function(t){var n=JSON.parse(t).tradeAll||[],r=n.filter((function(a){return a.user.toString()===e.toString()}));if("JUAL"===a.toUpperCase()){var c=n?n.filter((function(a){return a.user.toString()===e.toString()?null:a})).filter((function(e){return"JUAL"===e.tipe.toUpperCase()})).sort((function(e,a){return a.harga-e.harga})).filter((function(e){return e.jumlah>0})).sort((function(e,a){return a.jumlah-e.jumlah})):[];l(i({market:c}))}else if("BELI"===a.toUpperCase()){var o=JSON.parse(t).tradeAll||[],s=o?o.filter((function(a){return a.user.toString()===e.toString()?null:a})).filter((function(e){return"BELI"===e.tipe.toUpperCase()})).filter((function(e){return 0!==e.jumlah})).sort((function(e,a){return e.harga-a.harga})).filter((function(e){return e.jumlah>0})).sort((function(e,a){return e.jumlah-a.jumlah})):[];l(d({market:s}))}else l([i({market:[]}),d({market:[]}),b({market:[]})]);l(b({market:r}))}))}),[a,l]),n.a.createElement(o.a,{fluid:!0},n.a.createElement("div",{className:"d-block",align:"center"},n.a.createElement("section",null,n.a.createElement("h3",null,a)),n.a.createElement("aside",null,n.a.createElement("div",{className:"componentBeli overScrollBeli"},n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"TIPE")),n.a.createElement("div",{className:"d-block"},r&&r.length>0?r.map((function(e){return n.a.createElement("div",null,e.tipe)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"JUMLAH")),n.a.createElement("div",{className:"d-block"},r&&r.length>0?r.map((function(e){return n.a.createElement("div",null,e.jumlah)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"HARGA")),n.a.createElement("div",{className:"d-block"},r&&r.length>0?r.map((function(e){return n.a.createElement("div",null,e.harga)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"TOTAL")),n.a.createElement("div",{className:"d-block"},r&&r.length>0?r.map((function(e){return n.a.createElement("div",null,e.total)})):"-"))))))},j=t(14),k=t(2),O=t(18),N=t(12),S=t.n(N),y=t(7);function T(){var e=Object(u.c)((function(e){return e.storeHistory})).lastJual,a=Object(u.c)((function(e){return e.UserState.User&&e.UserState.User.infoUser?e.UserState.User.infoUser:{}})).saldo,t=n.a.useState({jumlah:"",harga:""}),l=Object(O.a)(t,2),r=l[0],c=l[1],o=function(e){e.target.validity.valid&&c(Object(k.a)(Object(k.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"d-block ml-3 mt-3"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var a=e.DataBeli;S()({url:"".concat("http://localhost:1999","/tradeBuy"),method:"POST",headers:{jwttoken:localStorage.getItem("token")},data:Object(k.a)({},a)}).then((function(e){var a=e.data;y.a.success(a.message)})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({DataBeli:r})}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-4 d-block"},n.a.createElement("div",{className:"d-block mb-3"},n.a.createElement("div",{className:"d-block"},"SALDO"),n.a.createElement("div",{className:"d-block"},a||0)),n.a.createElement("div",{className:"d-block mb-1"},n.a.createElement("div",{className:"d-block"},"LAST PRICE BELI"),n.a.createElement("div",{className:"d-block"},e||0)),n.a.createElement("button",{className:"btn btn-success form-control"},"BELI")),n.a.createElement("div",{className:"col-8"},n.a.createElement("label",{for:"jumlah"},"Jumlah"),n.a.createElement("input",{type:"text",name:Object.keys(r)[0],value:Object.values(r)[0],pattern:"\\d*",onInput:o,className:"form-control"}),n.a.createElement("label",{for:"jumlah"},"Harga"),n.a.createElement("input",{type:"text",name:Object.keys(r)[1],value:Object.values(r)[1],pattern:"(\\d|\\.)*",onInput:o,className:"form-control"}),n.a.createElement("div",{className:"d-block mt-1"},"Total Bayar : ",Number(r.jumlah)*Number(r.harga))))))}function D(){var e=Object(u.c)((function(e){return e.storeHistory})).lastBeli,a=Object(u.c)((function(e){return e.UserState.User&&e.UserState.User.infoUser?e.UserState.User.infoUser:{}})).codeo,t=n.a.useState({jumlah:"",harga:""}),l=Object(O.a)(t,2),r=l[0],c=l[1],o=function(e){e.target.validity.valid&&c(Object(k.a)(Object(k.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"d-block ml-3 mt-3"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var a=e.DataJual;S()({url:"".concat("http://localhost:1999","/tradeSell"),method:"POST",headers:{jwttoken:localStorage.getItem("token")},data:Object(k.a)({},a)}).then((function(e){var a=e.data;y.a.success(a.message)})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({DataJual:r})}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-4 d-block"},n.a.createElement("div",{className:"d-block mb-3"},n.a.createElement("div",{className:"d-block"},"TOTAL"),n.a.createElement("div",{className:"d-block"},a||0," CODEO")),n.a.createElement("div",{className:"d-block mb-1"},n.a.createElement("div",{className:"d-block"},"LAST PRICE Jual"),n.a.createElement("div",{className:"d-block"},e||0)),n.a.createElement("button",{className:"btn btn-danger form-control"},"JUAL")),n.a.createElement("div",{className:"col-8"},n.a.createElement("label",{for:"jumlah"},"Jumlah"),n.a.createElement("input",{type:"text",name:Object.keys(r)[0],value:Object.values(r)[0],pattern:"\\d*",onInput:o,className:"form-control"}),n.a.createElement("label",{for:"jumlah"},"Harga"),n.a.createElement("input",{type:"text",name:Object.keys(r)[1],value:Object.values(r)[1],pattern:"(\\d|\\.)*",onInput:o,className:"form-control"}),n.a.createElement("div",{className:"d-block mt-1"},"Total Bayar : ",Number(r.jumlah)*Number(r.harga))))))}var U=t(105),L=t(106),J=new(function(){function e(){Object(U.a)(this,e),this.isLogin=!1}return Object(L.a)(e,[{key:"onLogin",value:function(e){this.isLogin=!0,e()}},{key:"onLogout",value:function(e){e(),this.isLogin=!1,localStorage.clear()}}]),e}());var B=t(4);function w(){var e=Object(B.g)();return n.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(e){e.DataLogin;var a=e.history;S()({url:"".concat("http://localhost:1999","/user/logout"),method:"DELETE",headers:{jwttoken:localStorage.getItem("token")}}).then((function(e){var t=e.data;J.onLogout((function(){y.a.success(t.message),localStorage.clear(),a.push("/")}))})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({history:e})}},"Logout")}var I=function(e){var a=e.Judul,t=Object(u.c)((function(e){return e.TradeState.TradeMe})).market;return n.a.createElement(o.a,{fluid:!0},n.a.createElement("div",{className:"d-block",align:"center"},n.a.createElement("section",null,n.a.createElement("h3",null,a)),n.a.createElement("aside",null,n.a.createElement("div",{className:"componentBeli overScrollBeli"},n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"NO")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e,a){return n.a.createElement("div",{className:"m-3 fontS"},a+1)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"JUMLAH")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e){return n.a.createElement("div",{className:"m-3 fontS "},e.jumlah)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"HARGA")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e){return n.a.createElement("div",{className:"m-3 fontS "},e.harga)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"TOTAL")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e){return n.a.createElement("div",{className:"m-3 fontS"},e.total)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"TIPE")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e){return n.a.createElement("div",{className:"m-3 fontS"},e.tipe)})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"STATUS")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(){return n.a.createElement("div",{className:"m-3 fontS "},"PENDING")})):"-")),n.a.createElement("div",null,n.a.createElement("div",{className:"d-block m-2 scrolStatic"},n.a.createElement("h6",null,"ACTION")),n.a.createElement("div",{className:"d-block"},t&&t.length>0?t.map((function(e,a){return n.a.createElement("div",{key:a+1,className:"d-block"},n.a.createElement("button",{className:"btn btn-success p-1 m-1",onClick:function(){return function(e){var a=e.DataRefund;S()({url:"".concat("http://localhost:1999","/tradePay"),method:"POST",headers:{jwttoken:localStorage.getItem("token")},data:{idMd5:a}}).then((function(e){var a=e.data;y.a.success(a.message)})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({DataRefund:e._id})}},a+1," ",n.a.createElement("i",{className:"fa fa-money"})))})):"-"))))))},x=t(107);function A(){var e=Object(u.c)((function(e){return e.storeHistory})),a={labels:e.LabelNew,datasets:[{type:"line",label:"Harga Beli",data:e.DataBeli,fill:!1,backgroundColor:"red",borderColor:"red",hoverBackgroundColor:"red",hoverBorderColor:"red"},{type:"line",label:"Harga Jual",data:e.DataJual,fill:!1,backgroundColor:"green",borderColor:"green",hoverBackgroundColor:"green",hoverBorderColor:"green"}]};return n.a.createElement(x.Line,{data:a})}function C(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.UserState.User&&e.UserState.User.infoUser?e.UserState.User.infoUser:{}})).username;return n.a.useEffect((function(){var a=(g||{}).id;h.emit("soketAuth",JSON.stringify({token:localStorage.getItem("token")})),h.on("infoUser".concat(a),(function(a){var t=JSON.parse(a);e(function(e){return{type:"setInfoUser",User:e.User}}({User:t}))})),h.on("latestTrade",(function(a){var t,l=JSON.parse(a).latestTrade,n=l?l.filter((function(e){return e.tipeHistori?e:null})):[],r=[],c=[],o=[];n.forEach((function(e){r.push(new Date(e.createdAt).toLocaleTimeString()+" "+new Date(e.createdAt).toLocaleDateString()),"BELI"===e.tipeHistori.toUpperCase()?c.push(e.latestHarga):o.push(e.latestHarga)})),e((t={LabelNew:r,Data:l,DataBeli:c,lastBeli:c[c.length-1],DataJual:o,lastJual:o[o.length-1]},Object(k.a)({type:"setChart"},t)))}))}),[e]),n.a.createElement(o.a,{fluid:!0},n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"},n.a.createElement("div",{className:"mt-1"}),n.a.createElement("div",{align:"center"},n.a.createElement("h2",null,"MARKET")))),n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"},n.a.createElement("div",{className:"mt-1"}),n.a.createElement("div",{align:"center"},n.a.createElement("h2",null,a?"Hello, ".concat(a):"-"),n.a.createElement(w,null))),"d"),n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"},n.a.createElement(A,null))),n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"},n.a.createElement(p,{Judul:"JUAL",TabelTipe:"TradeJual"})),n.a.createElement(m.a,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"},n.a.createElement(p,{Judul:"BELI",TabelTipe:"TradeBeli"}))),n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"},n.a.createElement(T,null)),n.a.createElement(m.a,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"},n.a.createElement(D,null))),n.a.createElement(s.a,null,n.a.createElement(m.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"},n.a.createElement(I,null))))}var H=t(17);t(101);function P(){var e=Object(B.g)(),a=n.a.useState({email:"",password:""}),t=Object(O.a)(a,2),l=t[0],r=t[1],c=function(e){r(Object(k.a)(Object(k.a)({},l),{},Object(j.a)({},e.target.name,e.target.value)))};return n.a.createElement("form",{className:"posisiForm",onSubmit:function(a){a.preventDefault(),function(e){var a=e.DataLogin,t=e.history;S()({url:"".concat("http://localhost:1999","/user/login"),method:"POST",headers:{jwttoken:localStorage.getItem("token")},data:Object(k.a)({},a)}).then((function(e){var a=e.data;J.onLogin((function(){y.a.success(a.message),localStorage.setItem("token",a.token),t.push("/dashboard")}))})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({DataLogin:l,history:e})}},n.a.createElement("h5",{align:"center"},"Login Trade"),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-12 mt-2"},n.a.createElement("label",{for:"email"},n.a.createElement("small",null,"Email")),n.a.createElement("input",{type:"text",className:"form-control",name:Object.keys(l)[0],value:Object.values(l)[0],onChange:c}),n.a.createElement("label",{for:"password"},n.a.createElement("small",null,"Password")),n.a.createElement("input",{type:"text",className:"form-control",name:Object.keys(l)[1],value:Object.values(l)[1],onChange:c}),n.a.createElement("div",{className:"d-block mt-2",align:"right"},n.a.createElement(H.b,{to:"/daftar",className:"m-2"},"Daftar"),n.a.createElement("button",{className:"btn btn-outline-success"},n.a.createElement("small",null,"Login"))))))}function M(){return n.a.createElement(P,null)}function R(){var e=Object(B.g)(),a=n.a.useState({username:"",email:"",password:""}),t=Object(O.a)(a,2),l=t[0],r=t[1],c=function(e){r(Object(k.a)(Object(k.a)({},l),{},Object(j.a)({},e.target.name,e.target.value)))};return n.a.createElement("form",{className:"posisiForm",onSubmit:function(a){a.preventDefault(),function(e){var a=e.DataDaftar,t=e.history;S()({url:"".concat("http://localhost:1999","/user"),method:"POST",headers:{jwttoken:localStorage.getItem("token")},data:Object(k.a)({},a)}).then((function(e){var a=e.data;y.a.success(a.message),t.push("/")})).catch((function(e){var a="";a=void 0===e.response?e.message:e.response.data.message,y.a.error(a)}))}({DataDaftar:l,history:e})}},n.a.createElement("h5",{align:"center"},"Daftar Trade"),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-12 mt-2"},n.a.createElement("label",{for:"password"},n.a.createElement("small",null,"Username")),n.a.createElement("input",{type:"text",className:"form-control",name:Object.keys(l)[0],value:Object.values(l)[0],onChange:c}),n.a.createElement("label",{for:"email"},n.a.createElement("small",null,"Email")),n.a.createElement("input",{type:"text",className:"form-control",name:Object.keys(l)[1],value:Object.values(l)[1],onChange:c}),n.a.createElement("label",{for:"password"},n.a.createElement("small",null,"Password")),n.a.createElement("input",{type:"text",className:"form-control",name:Object.keys(l)[2],value:Object.values(l)[2],onChange:c}),n.a.createElement("div",{className:"d-block mt-2",align:"right"},n.a.createElement("button",{className:"btn btn-outline-success"},n.a.createElement("small",null,"Daftar"))))))}function G(){return n.a.createElement(R,null)}var W=t(110);function F(e){var a=e.component,t=Object(W.a)(e,["component"]);return n.a.createElement(B.b,Object.assign({},t,{render:function(e){return J.isLogin?n.a.createElement(a,t):n.a.createElement(B.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var K=Object(B.h)((function(){var e=Object(B.g)();return n.a.useEffect((function(){localStorage.getItem("token")?J.onLogin((function(){e.push("/dashboard")})):J.onLogout((function(){e.push("/")}))}),[e]),n.a.createElement(B.d,null,n.a.createElement(B.b,{path:"/",exact:!0},n.a.createElement(M,null)),n.a.createElement(B.b,{path:"/daftar"},n.a.createElement(G,null)),n.a.createElement(F,{path:"/dashboard",component:C}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(262);var $=t(21),_=t(108),q=t(109),z={TradeJual:{market:[]},TradeBeli:{market:[]},TradeMe:{market:[]}};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TradeJual":return Object(k.a)(Object(k.a)({},e),{},{TradeJual:Object(k.a)(Object(k.a)({},e.TradeJual),{},{market:a.market})});case"TradeBeli":return Object(k.a)(Object(k.a)({},e),{},{TradeBeli:Object(k.a)(Object(k.a)({},e.TradeBeli),{},{market:a.market})});case"TradeAll":return Object(k.a)(Object(k.a)({},e),{},{TradeMe:Object(k.a)(Object(k.a)({},e.TradeMe),{},{market:a.market})});default:return Object(k.a)({},e)}}var V={User:null};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"setInfoUser":return Object(k.a)(Object(k.a)({},e),{},{User:a.User});default:return Object(k.a)({},e)}}var Y={Grafik:[],LabelNew:[],DataBeli:[],DataJual:[],lastJual:0,lastBeli:0};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"setChart":return Object(k.a)(Object(k.a)({},e),{},{Grafik:a.Data,LabelNew:"object"===typeof a.LabelNew?a.LabelNew.filter((function(e,a){return a<=20?e:null})):[],DataBeli:"object"===typeof a.DataBeli?a.DataBeli.reverse().filter((function(e,a){return a<=20?e:null})):[],lastBeli:a.lastBeli,DataJual:"object"===typeof a.DataJual?a.DataJual.reverse().filter((function(e,a){return a<=20?e:null})):[],lastJual:a.lastJual});case"setDataJual":return Object(k.a)(Object(k.a)({},e),{},{DataBeli:a.Data,lastBeli:a.last});case"setDataBeli":return Object(k.a)(Object(k.a)({},e),{},{DataJual:a.Data,lastJual:a.last});default:return Object(k.a)({},e)}}function ee(e){var a=e.children,t=Object($.combineReducers)({TradeState:Q,UserState:X,storeHistory:Z}),l=Object($.createStore)(t,Object(_.composeWithDevTools)(Object($.applyMiddleware)(q.reduxSoldierMiddleware)));return n.a.createElement(u.a,{store:l},a)}c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(H.a,null,n.a.createElement(ee,null,n.a.createElement(K,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,a,t){}},[[111,1,2]]]);
//# sourceMappingURL=main.49ec5e4c.chunk.js.map